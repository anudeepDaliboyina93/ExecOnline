//
// Based on code originally generated by JSON2Apex http://json2apex.herokuapp.com/
//
// WT: change syntax .add(new String(parser)) => .add(parser.getText());

public class AnonymizeWordsJSON2Apex {
	public static void consumeObject(JSONParser parser) {
		Integer depth = 0;
		do {
			JSONToken curr = parser.getCurrentToken();
			if (curr == JSONToken.START_OBJECT ||
				curr == JSONToken.START_ARRAY) {
				depth++;
			} else if (curr == JSONToken.END_OBJECT ||
				curr == JSONToken.END_ARRAY) {
				depth--;
			}
		} while (depth > 0 && parser.nextToken() != null);
	}
	// Declare lists that will be parsed; commented out lists not currently needed
		//public List<String> verbs;
		//public List<String> adjectives;
		//public List<String> nouns;
	public List<String> words;
	public List<String> firstNames;
	public List<String> lastNames;
	public List<String> orgSuffixes;



	public AnonymizeWordsJSON2Apex(JSONParser parser) {
		system.debug('***END_OBJECT : ' + JSONToken.END_OBJECT);
		system.debug('***parser : ' + parser);
		while (parser.nextToken() != JSONToken.END_OBJECT) {
			if (parser.getCurrentToken() == JSONToken.FIELD_NAME) {
				String text = parser.getText();
				if (parser.nextToken() != JSONToken.VALUE_NULL) {
					if (text == 'words') {
						words = new List<String>();

						WordsJ2A wordParser = new WordsJ2A(parser);
						words.addAll(wordParser.verbs);
						words.addAll(wordParser.adjectives);
						words.addAll(wordParser.nouns);
					} 
					if (text == 'firstNames') {
						firstNames = new List<String>();
						while (parser.nextToken() != JSONToken.END_ARRAY) {
							firstNames.add(parser.getText());
						}
					}
					if (text == 'lastNames') {
						lastNames = new List<String>();
						while (parser.nextToken() != JSONToken.END_ARRAY) {
							lastNames.add(parser.getText());
						}
					}
					if (text == 'orgSuffixes') {
						orgSuffixes = new List<String>();
						while (parser.nextToken() != JSONToken.END_ARRAY) {
							orgSuffixes.add(parser.getText());
						}
					}
					// else if (text == '<additional list name declared') { ...
					  // }
					else {
						System.debug(LoggingLevel.WARN, 'Root consuming unrecognized property: '+text);
						consumeObject(parser);
					}
				}
			}
		}
	}

	public class WordsJ2A {
		public List<String> verbs {get;set;} 
		public List<String> adjectives {get;set;} 
		public List<String> nouns {get;set;} 

		public WordsJ2A(JSONParser parser) {
			while (parser.nextToken() != JSONToken.END_OBJECT) {
				if (parser.getCurrentToken() == JSONToken.FIELD_NAME) {
					String text = parser.getText();
					if (parser.nextToken() != JSONToken.VALUE_NULL) {
						if (text == 'verbs') {
							verbs = new List<String>();
							while (parser.nextToken() != JSONToken.END_ARRAY) {
								verbs.add(parser.getText());
							}
						} else if (text == 'adjectives') {
							adjectives = new List<String>();
							while (parser.nextToken() != JSONToken.END_ARRAY) {
								adjectives.add(parser.getText());
							}
						} else if (text == 'nouns') {
							nouns = new List<String>();
							while (parser.nextToken() != JSONToken.END_ARRAY) {
								nouns.add(parser.getText());
							}
						} else {
							System.debug(LoggingLevel.WARN, 'Words consuming unrecognized property: '+text);
							consumeObject(parser);
						}
					}
				}
			}
		}
	}
	

	public static AnonymizeWordsJSON2Apex parse(String json) {
		return new AnonymizeWordsJSON2Apex(System.JSON.createParser(json));
	}

}